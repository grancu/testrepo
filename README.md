# testrepo

A simple performance test example how K6 can be used to test an api

## What it does
The example simply create a number of users through an api, and adds a number of books.

It's intention is an excerice, however, the scripts are written in K6, a Performance Engineering tool.  
This approach makes these scripts siutable for Performance Test.   Thus it can be said that this project can also be used as a simple example to illustrate how to performance test a simple book shop. 

The scripts do not test the UI, there are other tools better siutes for this.  The scripts target the APIs.

## Quick setup
```
WHY NOT NPM RUN .. ????

- pull the repo
- npm install
- cd /src/withCSV
- k6 run createUsersCSV.js
- k6 run addbooksUserJourneyTestCSV.js
```


By default, the script _createUsersCSV.js_ will create 5 users.
The script addbooksUserJourneyTestCSV.ks will add 5 books to each user.



the script can be modified to accept the number of users through the command line argument when run.  Otherwise, it will ready through a csv file.

The example uses 2 scripts.  One script is used to generate the users through the api. 
The second script is used to add books to each user created.

Not to generate a lot of load, the scripts only use 1 VU.  To increase the load, simple increase the virtual users running concurrently.

## What has been accoplished

- [x] Create a load test script for creating 15 users
- [x] create a load script for loggin in, add at least 5 books and logout.
- [x] Readme (this one :P )
- [x] Readme explaining for CI/CD integration
- [x] Readme explaining how would the results be evaluated

## Test Execution / Running the tests

running a script in K6 is done from the command line, cd into the directory, and execute:
```
k6 run <script.js>
```

To increase the load generated by k6, the following argument can be run through the command line prior to the script name


To create as many users as you want, you can run the scripts using the --iterations argument in the command line. 

Example:
```
k6 run createUsers.js --iterations=2
```

## Folder Structure
The source files are located into the /src folder 

